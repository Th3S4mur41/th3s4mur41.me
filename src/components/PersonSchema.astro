---
import { getPersonData, getWebsiteData } from "../utils/schemaData";
import StructuredData from "./StructuredData.astro";

interface Props {
	includeWebsite?: boolean;
}

const { includeWebsite = false } = Astro.props;

const personData = getPersonData(Astro.url.origin);
const websiteData = getWebsiteData(Astro.url.origin);

const jsonLd = includeWebsite
	? {
			"@context": "https://schema.org",
			"@graph": [websiteData, personData],
		}
	: {
			"@context": "https://schema.org",
			...personData,
			mainEntityOfPage: {
				"@type": "WebPage",
				"@id": Astro.url.href,
			},
		};
---

<StructuredData data={jsonLd} />
