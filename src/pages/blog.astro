---
import { getCollection, getEntry } from "astro:content";
import Layout from "../layouts/Layout.astro";

const blog = (await getCollection("blog")).sort(
	(a, b) => new Date(b.data.date).getTime() - new Date(a.data.date).getTime(),
);

const dateOptions = {
	// weekday: "long",
	year: "numeric",
	month: "short",
	day: "numeric",
};

console.log(blog); // Debug: Log the collection to verify included entries
---

<Layout title="blog">
{blog.filter(article => article.data.published).map(article => (
<a href={`/blog/${article.id}`} aria-labelledby={`article-header-${article.id}`} aria-describedby={`article-description-${article.id}`}>
<article>
			<h2 id={`article-header-${article.id}`}>{article.data.title}</h2>
			<p id={`article-desciption-${article.id}`}>{article.data.description}</p>
			<time datetime="{article.data.date}">{new Date(article.data.date).toLocaleDateString('en-gb', {year: "numeric",month: "short", 	day: "numeric",})}</time>
			</article>
	</a>
))}

</Layout>
